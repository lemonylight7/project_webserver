{% extends "project_base.html" %}

{% block content %}

    <div id="mainPageCarousel" class="carousel slide" data-ride="carousel" data-interval="false" data-keyboard="true">
      <div class="carousel-inner">
        <div class="carousel-item active" id="carousel-item-parent">
            <img src="{{session['main_photo']}}" alt="здесь должна была быть картинка, но не нашлась" id="main-photo" class="ml-5">
            <span class="h1 ml-3">{{session['username']}}</span>
            <div class="text-center">
                <div class="btn-group">
                    <a href="/upload_photo" class="btn btn-outline-primary btn-lg mb-4 rounded" role="button">Добавить фото</a>
                    <a href="/profile" class="btn btn-outline-primary btn-lg mb-4 ml-5 rounded" role="button">Редактировать профиль</a>
                </div>
            </div>

            <div class="text-center">
            {% for post in posts %}
                <img src={{post['thumb']}} alt="здесь должна была быть картинка, но не нашлась" id="img-list-item" class="mr-4 mb-4" onclick="show_post({{post['pid']}})">
            {% endfor %}
            </div>
        </div>

        <div class="carousel-item" id="carousel-item-child">
            <div class="text-left d-flex justify-content-start p-2">
                <i class="fas fa-long-arrow-alt-left fa-2x align-middle d-flex justify-content-start align-self-center" id="back-arrow" onclick="back2parent()"></i>
                <img src="{{session['main_photo']}}" alt="здесь должна была быть картинка, но не нашлась" id="main-photo-child" class="ml-4 mr-2 d-flex justify-content-start align-self-center">
                <span class="h3 ml-2 d-flex justify-content-start align-self-center">{{session['username']}}</span>
                {% if posts != [] and posts[0]['userid'] == session['userid'] %}
                <div class="btn-group ml-auto d-flex justify-content-end align-self-center">
                  <button class="btn btn-outline-dark dropdown-toggle d-flex justify-content-end" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-tools fa-lg d-flex justify-content-start align-self-center"></i>
                  </button>
                  <div class="dropdown-menu dropdown-menu-right mt-2" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" id="actionChange" href="#">Изменить</a>
                    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#deleteModal">Удалить</a>
                  </div>
                </div>
                {% endif %}
            </div>
            <div id="child-img" class="text-center"></div>
            <div class="m-2">
                <form>
                  <div class="d-flex">
                    <div class="d-flex">
                        <i id="like-icon" class="far fa-heart fa-2x cursor-pointer align-self-center" onclick="add_like()"></i>
                        <span id="like-counter" class="h4 ml-2 align-self-center"></span>
                    </div>
                    <div class="w-75 ml-auto">
                        <input type="text" name="comment" class="form-control" placeholder="Комментарий">
                    </div>
                    <div class="d-flex ml-4">
                        <button class="btn btn-outline-primary" type="button">Отправить</button>
                    </div>
                  </div>
                </form>
            </div>
        </div>
      </div>
    </div>
{% endblock %}
